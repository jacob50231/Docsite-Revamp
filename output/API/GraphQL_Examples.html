<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="vendor/fontawesome/css/all.min.css" rel="stylesheet">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">
    
      <link rel="stylesheet" href=/home/jacob/Work/Docsite-Revamp/css/styles.css>
    
      <link rel="stylesheet" href=/home/jacob/Work/Docsite-Revamp/css/docs.css>
    
    <!--<link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/encyclopedia.css">-->
</head>
<body>
    <!---->
    <nav class="navbar navbar-expand-md navbar-light bg-light">
        <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <!-- Collapsed navigation -->
          <div class="my-container">
            <!-- Main title -->
            <a class="navbar-brand float-start" href="/.">
                <img class="brand-image" src="../../img/nih-header-logo-color.png" alt="NIH National Cancer Institute GDC Documentation">
                <span class="hidden">NIH National Cancer Institute GDC Documentation</span>
            </a>
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- GDC Apps -->
            <div class="pull-right">
              <div class="gdc-app-list dropbtn">
                <div class="dropbtn">
                  <a id='myToggle' class="dropbtn dropdown-toggle">
                    <span class="dropbtn"><i class="fas fa-th"></i> GDC Apps</span>
                  </a>
                  <div id="myDropdown" class="dropdown-content container">
                    <div class="row gdc-app-row">
                      <div class="col-sm gdc-app-list">
                        <i class="fas fa-lg fa-heartbeat"></i>
                      </div>
                      <div class="col-sm gdc-app-list">
                        <i class="fas fa-lg fa-heartbeat"></i>
                      </div>
                      <div class="col-sm gdc-app-list">
                        <i class="fas fa-lg fa-heartbeat"></i>
                      </div>
                    </div>
                    <div class="row gdc-app-row">
                      <div class="col-sm gdc-app-list">
                        <i class="fas fa-lg fa-heartbeat"></i>
                      </div>
                      <div class="col-sm gdc-app-list">
                        <i class="fas fa-lg fa-heartbeat"></i>
                      </div>
                      <div class="col-sm gdc-app-list">
                        <i class="fas fa-lg fa-heartbeat"></i>
                      </div>
                    </div>
                    <div class="row gdc-app-row">
                      <div class="col-sm gdc-app-list">
                        <i class="fas fa-lg fa-heartbeat"></i>
                      </div>
                      <div class="col-sm gdc-app-list">
                        <i class="fas fa-lg fa-heartbeat"></i>
                      </div>
                      <div class="col-sm gdc-app-list">
                        <i class="fas fa-lg fa-heartbeat"></i>
                      </div>
                    </div>
                  </div>
                </div>
                <div data-dropdown-menu="" class="dropdown-menu gdc-apps-menu-container" role="menu">
                  <div class="gdc-apps-menu-grid">
                    <div class="menu-column">
                      <a href="https://portal.gdc.cancer.gov/" title="Data Portal" target="_blank" class="menu-item">
                        <img width="21px" src="/img/GDC-App-data-portal-blue.svg" class="icon icon-gdc-portal home" alt="GDC Data Portal">
                        <div>Data Portal</div>
                      </a>
                      <a href="https://gdc.cancer.gov/developers/gdc-application-programming-interface-api" title="GDC API" target="_blank" class="menu-item">
                        <span class="icon icon-gdc-portal-api">
                          <span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span><span class="path8"></span><span class="path9"></span><span class="path10"></span>
                          </span>
                        <div>API</div>
                      </a>
                      <a href="https://docs.gdc.cancer.gov/" title="GDC Docs" target="_blank" class="active menu-item">
                        <span class="icon icon-gdc-docs">
                          <span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span><span class="path8"></span><span class="path9"></span><span class="path10"></span><span class="path11"></span><span class="path12"></span><span class="path13"></span><span class="path14"></span>
                        </span>
                        <div>Documentation</div>
                      </a>
                      <a href="https://portal.gdc.cancer.gov/legacy-archive" title="GDC Legacy Archive" target="_blank" class="menu-item">
                        <span class="icon icon-gdc-legacy-archive">
                          <span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span><span class="path8"></span><span class="path9"></span><span class="path10"></span>
                        </span>
                        <div>Legacy Archive</div>
                      </a>
                    </div>
                    <div class="menu-column">
                      <a href="https://gdc.cancer.gov/" title="GDC Website" target="_blank" class="menu-item">
                        <img width="21px" src="/img/GDC-App-website-blue.svg" class="icon icon-gdc-portal home" alt="GDC Website">
                        <div>Website</div>
                      </a>
                      <a href="https://gdc.cancer.gov/access-data/gdc-data-transfer-tool" class="menu-item" title="GDC Data Transfer Tool" target="_blank">
                        <span class="icon icon-gdc-data-transer-tool">
                          <span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span><span class="path8"></span>
                        </span>
                        <div>Data Transfer Tool</div>
                      </a>
                      <a href="https://portal.gdc.cancer.gov/submission/" title="GDC Submission Portal" target="_blank" class="menu-item">
                        <span class="icon icon-gdc-submission-portal">
                          <span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span><span class="path8"></span><span class="path9"></span><span class="path10"></span>
                        </span>
                        <div>Data Submission Portal</div>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
              <div class="container-fluid">
              <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav navbar-center me-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">API</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Data Submission</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Data Transfer Tool
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Data Dictionary</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Data</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Encyclopedia</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#"><i class="fas fa-search"></i></a>
                </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </nav>

      <div class="row">
      <div class="col-md-3">
        <div class="container-fluid sidebar-container">
          <div class="sidebar">
            <ul class="main">
              <li class="main"><a href="#">Getting Started</a></li>
              <ul>
                <li><a href='#Using GDC GraphQL vs GDC REST API'>Using GDC GraphQL vs GDC REST API</a></li><li><a href='#GDC GraphQL Overview'>GDC GraphQL Overview</a></li><li><a href='#GDC GraphQL Endpoints'>GDC GraphQL Endpoints</a></li><li><a href='#GDC GraphQL Schema'>GDC GraphQL Schema</a></li><li><a href='#Basic GraphQL queries in GDC'>Basic GraphQL queries in GDC</a></li><li><a href='#Anatomy of a typical GDC GraphQL Query'>Anatomy of a typical GDC GraphQL Query</a></li><li><a href='#GDC GraphQL Examples'>GDC GraphQL Examples</a></li>
              </ul>
              <li class="inactive"><a href="#">Search and Retrieval</a></li>
              <li class="inactive"><a href="#">Data Analysis</a></li>
              <li class="inactive"><a href="#">BAM Slicing</a></li>
              <li class="inactive"><a href="#">Submission</a></li>
              <li class="inactive"><a href="#">Python Examples</a></li>
              <li class="inactive"><a href="#">GraphQL Examples</a></li>
              <li class="inactive"><a href="#">System Information</a></li>
              <li class="inactive"><a href="#">Additional Examples</a></li>
              <li class="inactive"><a href="#">Appendix A: Available Fields</a></li>
              <li class="inactive"><a href="#">Appendix B: Key Terms</a></li>
              <li class="inactive"><a href="#">Appendix C: Format of Submission Queries and Responses</a></li>
              <li class="inactive"><a href="#">Release Notes</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-9">
        <div class="container-fluid doc-container">
          <h1><i class="fas fa-book"></i>   Introduction to GDC GraphQL</h1><hr>
<p><a href="https://graphql.org/">GraphQL</a> is a query language for APIs. The <a href="https://docs.gdc.cancer.gov/API/Users_Guide/Getting_Started/">GDC REST API</a> has structured and specifically defined query parameters as well as endpoints that have set requests and responses. The GDC GraphQL provides advanced GDC users greater flexibility to specify the data they would like to be returned. This allows queries to be cleaner and easier to understand, especially when combining multiple queries into one request.</p>
<p>To produce queries in a visual interface, the GDC recommends using <a href="https://github.com/graphql/graphiql">GraphiQL</a>. See below for the correct endpoint URLs.</p>
<h2>Using GDC GraphQL vs GDC REST API</h2>
<p>If the query requires only a subset of the data to be returned, GDC GraphQL may speed up requests as GraphQL queries return only the specified data. This may require less work on the GDC server-side to fulfill those requests. Conversely, if an entire data-set is required for each request, the GDC REST API may be a better fit. No matter which method is used, the data returned by the GDC REST API and the GraphQL query will be identical as they query the same source.</p>
<h2>GDC GraphQL Overview</h2>
<p>GraphQL is not a storage model or a database query language. The graph refers to graph structures defined in the schema, where nodes define objects and edges define relationships between objects. The API traverses and returns application data based on the schema definitions, independent of how the data is stored.</p>
<h2>GDC GraphQL Endpoints</h2>
<p>The GDC GraphQL has only two endpoints:
* <strong>GDC Search and Retrieval Endpoint:</strong> https://api.gdc.cancer.gov/v0/graphql
* <strong>GDC Submission Endpoint:</strong> https://api.gdc.cancer.gov/v0/submission/graphql</p>
<p>This page covers the search and retrieval endpoint, see the <a href="Submission.md">GDC Submission API</a> for additional details on the submission endpoint.</p>
<h2>GDC GraphQL Schema</h2>
<p>All GDC GraphQL queries are validated and executed against the <a href="https://github.com/NCI-GDC/portal-ui/blob/92f0dfa17838746093c3c011141d08391016da91/data/schema.graphql">GDC GraphQL schema</a>. Because the GraphQL parameters are discoverable, the GDC GraphQL schema can be queried for details about itself.</p>
<p>The <code>__schema</code> keyword can be queried to list all types defined in the schema and retrieve details about each:</p>
<pre><code class="language-GraphQL">{
  __schema {
    types {
      name
      kind
      fields {
        name
      }
    }
  }
}
</code></pre>
<p>The <code>__type</code> keyword can also be queried to retrieve details about any type such as "Explore" or "Case":</p>
<pre><code class="language-GraphQL">
{
  __type(name: &quot;Explore&quot;) {
    name
    kind
    description
    fields {
      name
    }
  }
}
</code></pre>
<pre><code class="language-GraphQL">{
  __type(name: &quot;Case&quot;) {
    name
    kind
    description
    fields {
      name
    }
  }
}
</code></pre>
<h2>Basic GraphQL queries in GDC</h2>
<p>The two types of allowed operations in GDC GraphQL API are queries and mutations. Comparing GraphQL to REST, queries operate like <code>GET</code> requests, while mutations operate like <code>POST</code>/<code>PATCH</code>/<code>DELETE</code>.</p>
<p><strong>Note:</strong> This guide does not cover GDC GraphQL mutation operations.</p>
<p>GraphQL queries return only the data that is specified. Queries are built by specifying fields within fields (also called nested <em>subfields</em>) until only scalars are returned.  Scalars are primitive values such as: <code>Int</code>, <code>Float</code>, <code>String</code>, <code>Boolean</code>, or <code>ID</code>.</p>
<h2>Anatomy of a typical GDC GraphQL Query</h2>
<p><a href="images/graphql-query.png" title="Click to see the full image."><img alt="GraqhQL-Query" src="images/graphql-query.png" /></a></p>
<ul>
<li><strong>Operation type:</strong> Describes what type of operation that is being performed, such as query, mutation, or subscription</li>
<li><strong>Operation name:</strong> Similar to a function name, gives queries meaningful names</li>
<li><strong>Field:</strong> Denotes the specific fields on objects that will be included with the response data</li>
<li><strong>Arguments:</strong> A set of key-value pairs associated with a specific field. The parameters can be literal values or variables. <strong>NOTE:</strong> Arguments can appear on any field, even fields nested deep in an operation.</li>
<li><strong>Variable definitions:</strong> As GraphQL is strong typed, it validates the variable being passed dynamically. <strong>NOTE:</strong> Variables are passed separately from the query document as JSON such as:</li>
</ul>
<pre><code class="language-json">    { &quot;filters_1&quot;: {&quot;op&quot;:&quot;in&quot;,&quot;content&quot;:{&quot;field&quot;:&quot;projects.program.name&quot;,&quot;value&quot;:[&quot;TARGET&quot;]}}}
</code></pre>
<h2>GDC GraphQL Examples</h2>
<h3>Nodes And Edges Example</h3>
<p>A very powerful feature of GDC GraphQL API is that the graph structures defined in the <a href="https://github.com/NCI-GDC/portal-ui/blob/92f0dfa17838746093c3c011141d08391016da91/data/schema.graphql">GDC GraphQL schema</a> can be queried and traversed. In these queries, nodes define objects and edges define relationships between objects.</p>
<pre><code class="language-GraphQL">
query PROJECTS_EDGES($filters_1: FiltersArgument) {
  projects {
    hits(filters: $filters_1) {
      total
      edges {
        node {
          primary_site
          disease_type
          project_id
          dbgap_accession_number
        }
      }
    }
  }
}

    variable:
    { &quot;filters_1&quot;: {&quot;op&quot;: &quot;in&quot;, &quot;content&quot;: {&quot;field&quot;: &quot;projects.primary_site&quot;, &quot;value&quot;: [&quot;Kidney&quot;]}}}
</code></pre>
<h3>Query Case File Counts</h3>
<pre><code class="language-GraphQL">query CaseFileCounts($filters: FiltersArgument) {
  viewer {
    repository {
      cases {
        hits(first: 1, filters: $filters) {
          edges {
            node {
              case_id
              files {
                hits(first: 0) {
                  total
                }
              }
              summary {
                experimental_strategies {
                  experimental_strategy
                  file_count
                }
                data_categories {
                  data_category
                  file_count
                }
              }
            }
          }
        }
      }
    }
  }
}

variable:
{&quot;filters&quot;:{&quot;op&quot;:&quot;in&quot;,&quot;content&quot;:{&quot;field&quot;:&quot;cases.case_id&quot;,&quot;value&quot;:[&quot;dcd5860c-7e3a-44f3-a732-fe92fe3fe300&quot;]}}}
</code></pre>
<h3>Query Simple Static Mutations Based on Gene IDs</h3>
<pre><code class="language-GraphQL">
query PROJECTS_EDGES($filters_2: FiltersArgument) {
  explore {
    ssms {
      hits(filters: $filters_2) {
        total
        edges {
          node {
            ssm_id
            gene_aa_change
          }
        }
      }
    }
  }
}

variable:
{&quot;filters_2&quot;: {&quot;op&quot;:&quot;in&quot;,&quot;content&quot;:{&quot;field&quot;:&quot;consequence.transcript.gene.gene_id&quot;,&quot;value&quot;:[&quot;ENSG00000155657&quot;]}}}
</code></pre>
        </div>
      </div>
    </div>

      <footer id="docs-footer">
        <div class="container-fluid footer-container">

      <div>
        <a href="https://portal.gdc.cancer.gov" target="_blank">Site Home</a>
        | <a href="http://www.cancer.gov/global/web/policies" target="_blank">Policies</a>
        | <a href="http://www.cancer.gov/global/web/policies/accessibility" target="_blank">Accessibility</a>
        | <a href="http://www.cancer.gov/global/web/policies/foia" target="_blank">FOIA</a>
      </div>
      <div>
        <a href="http://www.hhs.gov" target="_blank">U.S. Department of Health and Human Services</a>
        | <a href="http://www.nih.gov" target="_blank">National Institutes of Health</a>
        | <a href="http://www.cancer.gov" target="_blank">National Cancer Institute</a>
        | <a href="http://www.usa.gov" target="_blank">USA.gov</a>
      </div>
      <div>
        NIH... Turning Discovery Into Health Â®
      </div>

      <div class="version-caption">
        GDC Docs Version 2.0
      </div>
    </div>
    </footer>
    



    
<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */

// Close the dropdown if the user clicks outside of it

var toggler = document.getElementById("myToggle");
toggler.onclick= function(){
    var myDropdown = document.getElementById("myDropdown");
    myDropdown.classList.toggle('show');
}
window.onclick = function(e) {
    if (!e.target.matches('.dropbtn')) {
        var myDropdown = document.getElementById("myDropdown");
    if (myDropdown.classList.contains('show')) {
        myDropdown.classList.remove('show');
    }
  }
}

</script>

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>      
</body>
</html>