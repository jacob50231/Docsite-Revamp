<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BAM Slicing</title>
    <link href="/vendor/fontawesome/css/all.min.css" rel="stylesheet" />
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Get locas CSS files -->
    
    <link rel="stylesheet" type="text/css" href="/home/jacob/Work/Docsite-Revamp/css/styles.css" />
    
    <link rel="stylesheet" type="text/css" href="/home/jacob/Work/Docsite-Revamp/css/docs.css" />
    
    <link rel="stylesheet" type="text/css" href="/home/jacob/Work/Docsite-Revamp/css/encyclopedia.css" />
    
  </head>
  <body>
    <!---->
    <nav class="navbar navbar-expand-md navbar-light bg-light">
      <div class="container-fluid">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Collapsed navigation -->
        <div class="my-container">
          <!-- Main title -->
          <a class="navbar-brand float-start" href="/.">
            <img
              class="brand-image"
              src="/home/jacob/Work/Docsite-Revamp/img/nih-header-logo-color.png"
              alt="NIH National Cancer
            Institute GDC Documentation"
            />
            <span class="hidden"
              >NIH National Cancer Institute GDC Documentation</span
            >
          </a>
          <!-- Expander button -->
          <button
            type="button"
            class="navbar-toggle"
            data-toggle="collapse"
            data-target=".navbar-collapse"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          <!-- GDC Apps -->
          <div class="pull-right">
            <div class="gdc-app-list dropbtn">
              <div class="dropbtn">
                <a id="myToggle" class="dropbtn dropdown-toggle">
                  <span class="dropbtn"
                    ><i class="fas fa-th"></i> GDC Apps</span
                  >
                </a>
                <div id="myDropdown" class="dropdown-content container">
                  <div class="row gdc-app-row">
                    <div class="col-sm gdc-app-list">
                      <i class="fas fa-lg fa-heartbeat"></i>
                    </div>
                    <div class="col-sm gdc-app-list">
                      <i class="fas fa-lg fa-heartbeat"></i>
                    </div>
                    <div class="col-sm gdc-app-list">
                      <i class="fas fa-lg fa-heartbeat"></i>
                    </div>
                  </div>
                  <div class="row gdc-app-row">
                    <div class="col-sm gdc-app-list">
                      <i class="fas fa-lg fa-heartbeat"></i>
                    </div>
                    <div class="col-sm gdc-app-list">
                      <i class="fas fa-lg fa-heartbeat"></i>
                    </div>
                    <div class="col-sm gdc-app-list">
                      <i class="fas fa-lg fa-heartbeat"></i>
                    </div>
                  </div>
                  <div class="row gdc-app-row">
                    <div class="col-sm gdc-app-list">
                      <i class="fas fa-lg fa-heartbeat"></i>
                    </div>
                    <div class="col-sm gdc-app-list">
                      <i class="fas fa-lg fa-heartbeat"></i>
                    </div>
                    <div class="col-sm gdc-app-list">
                      <i class="fas fa-lg fa-heartbeat"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div
                data-dropdown-menu=""
                class="dropdown-menu gdc-apps-menu-container"
                role="menu"
              >
                <div class="gdc-apps-menu-grid">
                  <div class="menu-column">
                    <a
                      href="https://portal.gdc.cancer.gov/"
                      title="Data Portal"
                      target="_blank"
                      class="menu-item"
                    >
                      <img
                        width="21px"
                        src="/img/GDC-App-data-portal-blue.svg"
                        class="icon icon-gdc-portal home"
                        alt="GDC Data Portal"
                      />
                      <div>Data Portal</div>
                    </a>
                    <a
                      href="https://gdc.cancer.gov/developers/gdc-application-programming-interface-api"
                      title="GDC API"
                      target="_blank"
                      class="menu-item"
                    >
                      <span class="icon icon-gdc-portal-api">
                        <span class="path1"></span><span class="path2"></span
                        ><span class="path3"></span><span class="path4"></span
                        ><span class="path5"></span><span class="path6"></span
                        ><span class="path7"></span><span class="path8"></span
                        ><span class="path9"></span><span class="path10"></span>
                      </span>
                      <div>API</div>
                    </a>
                    <a
                      href="https://docs.gdc.cancer.gov/"
                      title="GDC Docs"
                      target="_blank"
                      class="active menu-item"
                    >
                      <span class="icon icon-gdc-docs">
                        <span class="path1"></span><span class="path2"></span
                        ><span class="path3"></span><span class="path4"></span
                        ><span class="path5"></span><span class="path6"></span
                        ><span class="path7"></span><span class="path8"></span
                        ><span class="path9"></span><span class="path10"></span
                        ><span class="path11"></span><span class="path12"></span
                        ><span class="path13"></span
                        ><span class="path14"></span>
                      </span>
                      <div>Documentation</div>
                    </a>
                    <a
                      href="https://portal.gdc.cancer.gov/legacy-archive"
                      title="GDC Legacy Archive"
                      target="_blank"
                      class="menu-item"
                    >
                      <span class="icon icon-gdc-legacy-archive">
                        <span class="path1"></span><span class="path2"></span
                        ><span class="path3"></span><span class="path4"></span
                        ><span class="path5"></span><span class="path6"></span
                        ><span class="path7"></span><span class="path8"></span
                        ><span class="path9"></span><span class="path10"></span>
                      </span>
                      <div>Legacy Archive</div>
                    </a>
                  </div>
                  <div class="menu-column">
                    <a
                      href="https://gdc.cancer.gov/"
                      title="GDC Website"
                      target="_blank"
                      class="menu-item"
                    >
                      <img
                        width="21px"
                        src="/img/GDC-App-website-blue.svg"
                        class="icon icon-gdc-portal home"
                        alt="GDC Website"
                      />
                      <div>Website</div>
                    </a>
                    <a
                      href="https://gdc.cancer.gov/access-data/gdc-data-transfer-tool"
                      class="menu-item"
                      title="GDC Data Transfer Tool"
                      target="_blank"
                    >
                      <span class="icon icon-gdc-data-transer-tool">
                        <span class="path1"></span><span class="path2"></span
                        ><span class="path3"></span><span class="path4"></span
                        ><span class="path5"></span><span class="path6"></span
                        ><span class="path7"></span><span class="path8"></span>
                      </span>
                      <div>Data Transfer Tool</div>
                    </a>
                    <a
                      href="https://portal.gdc.cancer.gov/submission/"
                      title="GDC Submission Portal"
                      target="_blank"
                      class="menu-item"
                    >
                      <span class="icon icon-gdc-submission-portal">
                        <span class="path1"></span><span class="path2"></span
                        ><span class="path3"></span><span class="path4"></span
                        ><span class="path5"></span><span class="path6"></span
                        ><span class="path7"></span><span class="path8"></span
                        ><span class="path9"></span><span class="path10"></span>
                      </span>
                      <div>Data Submission Portal</div>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
              <ul class="navbar-nav navbar-center me-auto">
                <li class="nav-item">
                  <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item dropdown">
                  <a
                    aria-current="page"
                    href="/output/dist/api-getting-started/"
                    class="nav-link dropdown-toggle"
                    id="navbarDropdownMenuLink"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    >API
                  </a>

                  <ul
                    class="dropdown-menu"
                    aria-labelledby="navbarDropdownMenuLink"
                  >
                     
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Getting_Started.html">Getting Started</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Search_and_Retrieval.html">Search and Retrieval</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Downloading_Files.html">Downloading Files</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Data_Analysis.html">Data Analysis</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/BAM_Slicing.html">BAM Slicing</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Submission.html">Submission</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Python_Examples.html">Python Examples</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/GraphQL_Examples.html">GraphQL Examples</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/System_Information.html">System Information</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Additional_Examples.html">Additional Examples</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Appendix_A_Available_Fields.html">Appendix A: Available Fields</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Appendix_B_Key_Terms.html">Appendix B: Key Terms</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Appendix_C_Format_of_Submission_Requests_and_Responses.html">Appendix C: Format of Submission Queries and Responses</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/Release_Notes/API_Release_Notes.html">Release Notes</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/API/PDF/index.html">fa-file-text Download PDF /API/PDF/API_UG.pdf</a>
                    </li>
                     
                  </ul>
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle"
                    id="navbarDropdownMenuLink"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    href="/output/dist/data-submission-portal-data-submission-process/"
                  >
                    Data Submission
                  </a>

                  <ul
                    class="dropdown-menu"
                    aria-labelledby="navbarDropdownMenuLink"
                  >
                     
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Submission_Portal/Users_Guide/Checklist.html">Before Submitting Data to the GDC Portal</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Submission_Portal/Users_Guide/Data_Submission_Overview.html">Data Submission Overview</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Submission_Portal/Users_Guide/Data_Submission_Process.html">Data Submission Portal</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Submission_Portal/Users_Guide/Data_Submission_Walkthrough.html">Data Upload Walkthrough</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Submission_Portal/Users_Guide/Pre_Release_QC.html">Pre-Release Data Portal</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Submission_Portal/Users_Guide/Best_Practices.html">Submission Best Practices</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Submission_Portal/Release_Notes/Data_Submission_Portal_Release_Notes.html">Release Notes</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Submission_Portal/PDF/index.html">fa-file-text Download PDF /Data_Submission_Portal/PDF/Data_Submission_Portal_UG.pdf</a>
                    </li>
                     
                  </ul>
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle"
                    href="/output/dist/data-transfer-tool-index/"
                    id="navbarDropdownMenuLink"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    Data Transfer Tool
                  </a>

                  <ul
                    class="dropdown-menu"
                    aria-labelledby="navbarDropdownMenuLink"
                  >
                     
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Transfer_Tool/Users_Guide/Getting_Started.html">Getting Started</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Transfer_Tool/Users_Guide/Preparing_for_Data_Download_and_Upload.html">Preparing for Data Download and Upload</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Transfer_Tool/Users_Guide/Data_Download_and_Upload.html">Data Transfer Tool Command Line Documentation</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Transfer_Tool/Release_Notes/DTT_Release_Notes.html">Release Notes - Command Line</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Transfer_Tool/Users_Guide/Data_Download_DTT_UI.html">Data Transfer Tool UI Documentation</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Transfer_Tool/Release_Notes/DTT_UI_Release_Notes.html">Release Notes - UI</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Transfer_Tool/Users_Guide/Appendix_B_TroubleShooting.html">Troubleshooting Guide</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Transfer_Tool/PDF/index.html">fa-file-text Download PDF /Data_Transfer_Tool/PDF/Data_Transfer_Tool_UG.pdf</a>
                    </li>
                     
                  </ul>
                </li>
                <li class="nav-item dropdown">
                  <a
                    href="/output/dist/data-dictionary-index/"
                    class="nav-link dropdown-toggle"
                    id="navbarDropdownMenuLink"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    Data Dictionary
                  </a>

                  <ul
                    class="dropdown-menu"
                    aria-labelledby="navbarDropdownMenuLink"
                  >
                     
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Dictionary/index.html">About</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Dictionary/viewer.html">Viewer</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Dictionary/gdcmvs.html">Search</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data_Dictionary/Release_Notes/Data_Dictionary_Release_Notes.html">Release Notes</a>
                    </li>
                     
                  </ul>
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle"
                    id="navbarDropdownMenuLink"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    href="/output/dist/data-getting-started/"
                    >Data</a
                  >

                  <ul
                    class="dropdown-menu"
                    aria-labelledby="navbarDropdownMenuLink"
                  >
                     
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Introduction.html">Introduction</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Data_Model/GDC_Data_Model.html">GDC Data Model</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Data_Security/Data_Security.html">Data Security</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/File_Formats/MAF_Format.html">File Format: MAF</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/File_Formats/VCF_Format.html">File Format: VCF</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Bioinformatics_Pipelines/DNA_Seq_Variant_Calling_Pipeline.html">Bioinformatics Pipeline: DNA-Seq Analysis</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Bioinformatics_Pipelines/Expression_mRNA_Pipeline.html">Bioinformatics Pipeline: mRNA Analysis</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Bioinformatics_Pipelines/miRNA_Pipeline.html">Bioinformatics Pipeline: miRNA Analysis</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Bioinformatics_Pipelines/CNV_Pipeline.html">Bioinformatics Pipeline: Copy Number Variation Analysis</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Bioinformatics_Pipelines/Methylation_Pipeline.html">Bioinformatics Pipeline: Methylation Liftover Pipeline</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Bioinformatics_Pipelines/RPPA_intro.html">Bioinformatics Pipeline: Protein Expression</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Bioinformatics_Pipelines/Aligned_reads_summary_metrics.html">Aligned Reads Summary Metrics</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/Release_Notes/Data_Release_Notes.html">Release Notes</a>
                    </li>
                      
                    <li>
                      <a class="dropdown-item" href="/home/jacob/Work/Docsite-Revamp/output/Data/PDF/index.html">fa-file-text Download PDF /Data/PDF/Data_UG.pdf</a>
                    </li>
                     
                  </ul>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/home/jacob/Work/Docsite-Revamp/output/Encyclopedia/index.html">
                    Encyclopedia
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <div class="row">
      <div class="col-md-3">
        <div class="container-fluid sidebar-container">
          <div class="sidebar">
            <ul class="main">
              <li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Getting_Started.html">Getting Started</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Search_and_Retrieval.html">Search and Retrieval</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Downloading_Files.html">Downloading Files</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Data_Analysis.html">Data Analysis</a></li><li class="main"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/BAM_Slicing.html">BAM Slicing</a></li><ul><li><a href='#About the slicing endpoint'>About the slicing endpoint</a></li><li><a href='#Examples: Specifying a region'>Examples: Specifying a region</a></li><li><a href='#Examples: Specifying a gene'>Examples: Specifying a gene</a></li><li><a href='#Examples: Specifying unmapped reads'>Examples: Specifying unmapped reads</a></li><li><a href='#Errors'>Errors</a></li></ul><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Submission.html">Submission</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Python_Examples.html">Python Examples</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/GraphQL_Examples.html">GraphQL Examples</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/System_Information.html">System Information</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Additional_Examples.html">Additional Examples</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Appendix_A_Available_Fields.html">Appendix A: Available Fields</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Appendix_B_Key_Terms.html">Appendix B: Key Terms</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Users_Guide/Appendix_C_Format_of_Submission_Requests_and_Responses.html">Appendix C: Format of Submission Queries and Responses</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/Release_Notes/API_Release_Notes.html">Release Notes</a></li><li class="inactive"><a href="/home/jacob/Work/Docsite-Revamp/output/API/PDF/index.html">fa-file-text Download PDF /API/PDF/API_UG.pdf</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-9">
        <div class="container-fluid doc-container"><h1><i class="fas fa-book"></i>   BAM Slicing</h1><hr/>
<p>The GDC API provides remote BAM slicing functionality that enables downloading of specific parts of a BAM file instead of the whole file. This functionality can be accessed at the <code>slicing</code> endpoint, using a syntax similar to that of widely used bioinformatics tools such as <code>samtools</code>.</p>
<h2 id="About the slicing endpoint">About the slicing endpoint</h2>
<p>The <code>slicing</code> endpoint accepts HTTP GET requests in the form of a URL, and HTTP POST requests that carry a JSON payload. POST requests are more appropriate in cases where query parameters make the GET URL very long.</p>
<p>The response will be a BAM-formatted file containing the header of the source BAM file, as well as any alignment records that are found to overlap the specified regions, sorted by chromosomal coordinate.</p>
<p>Please note the following:</p>
<ul>
<li>The functionality of this API differs from the usual functionality of <code>samtools</code> in that alignment records that overlap multiple regions will not be returned multiple times.</li>
<li>A request with no region or gene specified will return the BAM header, which makes it easy to inspect the references to which the alignment records were aligned.</li>
<li>A request for regions that are not included in the source BAM is not considered an error, and is treated the same as if no records existed for the region.</li>
<li>Examples provided for BAM slicing functionality are intended for use with GDC harmonized data (i.e. BAM files available in the GDC Data Portal). Slicing of unharmonized BAM files (i.e. BAM files in the GDC Legacy Portal) is not supported.</li>
<li>Bam slicing does not create an associated bam index (.bai) file.  For applications requiring a .bai file users will need to generate this file from the bam slice using a tool and command such as <code>samtools index</code>.</li>
</ul>
<h3>Query Parameters</h3>
<p>The following query parameters and JSON fields are supported:</p>
<table class="table">
<thead>
<tr>
<th>Description</th>
<th>Query Parameter</th>
<th>JSON Field</th>
<th>Query format</th>
</tr>
</thead>
<tbody>
<tr>
<td>entire chromosome, or a position or region on the chromosome, specified using chromosomal coordinates</td>
<td>region</td>
<td>regions</td>
<td>region=<chr>(:<start>(-<stop>)?)?</stop></start></chr></td>
</tr>
<tr>
<td>region specified using a <a href="http://www.genenames.org/">HGNC</a> / <a href="http://www.gencodegenes.org/">GENCODE v22</a> gene name</td>
<td>gencode</td>
<td>gencode</td>
<td>gencode=<gene_name></gene_name></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>NOTE:</strong> The successfully sliced BAM will contain all reads that overlap (entirely or partially) with the specified region or gene. It is possible to specify an open-ended region, e.g. <code>chr2:10000</code>, which would return all reads that (completely or partially) overlap with the region of chromosome 2 from position 10,000 to the end of the chromosome.</p>
</blockquote>
<h3>JSON Schema</h3>
<p>JSON payloads can be syntactically verified using the following JSON schema:</p>
<pre><code>{
  "$schema": "http://json-schema.org/schema#",
  "type": "object",
  "properties": {
    "regions": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^[a-zA-Z0-9]+(:([0-9]+)?(-[0-9]+)?)?$"
      }
    },
    "gencode": {
      "type": "array",
      "items": {
        "type": "string"
      }
    }
  }
}
</code></pre>
<h2 id="Examples: Specifying a region">Examples: Specifying a region</h2>
<p>The following two requests are examples of BAM slicing using region(s).</p>
<pre><code class="language-Regions_GET">
token=$(&lt;gdc-token-text-file.txt)

curl --header "X-Auth-Token: $token" 'https://api.gdc.cancer.gov/slicing/view/df80679e-c4d3-487b-934c-fcc782e5d46e?region=chr1&amp;region=chr2:10000&amp;region=chr3:10000-20000' --output get_regions_slice.bam
</code></pre>
<pre><code class="language-Regions_POST_Payload">{
    "regions": [
        "chr1",
        "chr2:10000",
        "chr3:10000-20000"
    ]
}
</code></pre>
<pre><code class="language-Regions_POST">token=$(&lt;gdc-token-text-file.txt)

curl --header "X-Auth-Token: $token" --request POST https://api.gdc.cancer.gov/slicing/view/9ca90dfa-e62f-4f9c-9946-dfcecfd3ca4d --header "Content-Type: application/json" -d@Payload --output post_regions_slice.bam
</code></pre>
<pre><code class="language-Response">Response:
HTTP/1.1 206

&lt;bam_data_stream&gt;
</code></pre>
<h2 id="Examples: Specifying a gene">Examples: Specifying a gene</h2>
<p>The following two requests are examples of BAM slicing using HGNC / GENCODE v22 gene name(s).</p>
<pre><code class="language-Gencode_GET">token=$(&lt;gdc-token-text-file.txt)

curl --header "X-Auth-Token: $token" 'https://api.gdc.cancer.gov/slicing/view/df80679e-c4d3-487b-934c-fcc782e5d46e?gencode=BRCA1' --output get_brca1_slice.bam
</code></pre>
<pre><code class="language-Gencode_POST_Payload">{
    "gencode": [
        "BRCA1",
        "BRCA2"
    ]
}
</code></pre>
<pre><code class="language-Gencode_POST">curl --header "X-Auth-Token: $token" --request POST https://api.gdc.cancer.gov/slicing/view/df80679e-c4d3-487b-934c-fcc782e5d46e --header "Content-Type: application/json" -d@Payload --output post_brca12_slice.bam
</code></pre>
<pre><code class="language-Response">Response:
HTTP/1.1 206

&lt;bam_data_stream&gt;
</code></pre>
<h2 id="Examples: Specifying unmapped reads">Examples: Specifying unmapped reads</h2>
<p>Unmapped reads are found in GDC BAM files. You may request these reads by using the following commands.</p>
<pre><code class="language-GET">token=$(&lt;gdc-token-text-file.txt)

curl --header "X-Auth-Token: $token" 'https://api.gdc.cancer.gov/slicing/view/dc87e1b8-d8b7-4837-88ea-fb7f017b3c69?region=unmapped' --output get_regions_slice.bam
</code></pre>
<pre><code class="language-POST_Payload">{
    "regions": [
        "unmapped"
    ]
}
</code></pre>
<pre><code class="language-POST">curl --header "X-Auth-Token: $token" --request POST https://api.gdc.cancer.gov/slicing/view/dc87e1b8-d8b7-4837-88ea-fb7f017b3c69 --header "Content-Type: application/json" -d@Payload --output get_regions_slice.bam
</code></pre>
<pre><code class="language-Response">Response:
HTTP/1.1 206

&lt;bam_data_stream&gt;
</code></pre>
<p>After downloading, the sliced BAM file can be converted to SAM using the following command if <code>samtools</code> is installed on the user's system:</p>
<pre><code>samtools view -h brca1_slice.bam -o brca1_slice.sam
</code></pre>
<h2 id="Errors">Errors</h2>
<p>When slicing cannot be performed, the GDC API will provide JSON error responses and HTTP error codes.</p>
<h3>JSON Error Responses</h3>
<p>JSON error responses have the following structure:</p>
<pre><code>{
    "error": "&lt;error-message&gt;"
}
</code></pre>
<p>For example, when making a request for a protected BAM without supplying a GDC authentication token:</p>
<pre><code class="language-Shell">curl https://api.gdc.cancer.gov/v0/slicing/view/15b0bf8e-ff20-41ab-8366-a495c11b30be
</code></pre>
<pre><code class="language-Response">HTTP/1.1 403 FORBIDDEN
{
    "error": "Please specify a X-Auth-Token"
}
</code></pre>
<h3>HTTP error codes</h3>
<p>Potential HTTP error codes include:</p>
<table class="table">
<thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>400</td>
<td>Bad Request -- The regions specified are malformed</td>
</tr>
<tr>
<td>403</td>
<td>Unauthorized -- The user could not be authenticated</td>
</tr>
<tr>
<td>403</td>
<td>Unauthorized -- The user is not authorized for access to the source BAM</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- No BAM is specified</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- No BAM can be found for the specified GDC BAM ID</td>
</tr>
<tr>
<td>504</td>
<td>BAI Not Found -- No BAI can be found for the BAM</td>
</tr>
</tbody>
</table>
<h3>Transfer Errors</h3>
<p>In the case that an error occurs during transfer of the resulting BAM, the BGZF EOF marker will not be present. This early truncation of the BAM file will cause errors if the file is used as input to other programs. For example, <code>samtools</code> will provide the error "EOF marker is absent".</p>
<p>Early truncation can arise when connection is interrupted or when slicing fails due to BAM corruption.</p></div>
      </div>
    </div>

    <footer id="docs-footer">
      <div class="container-fluid footer-container">
        <div>
          <a href="https://portal.gdc.cancer.gov" target="_blank">Site Home</a>
          |
          <a href="http://www.cancer.gov/global/web/policies" target="_blank"
            >Policies</a
          >
          |
          <a
            href="http://www.cancer.gov/global/web/policies/accessibility"
            target="_blank"
            >Accessibility</a
          >
          |
          <a
            href="http://www.cancer.gov/global/web/policies/foia"
            target="_blank"
            >FOIA</a
          >
        </div>
        <div>
          <a href="http://www.hhs.gov" target="_blank"
            >U.S. Department of Health and Human Services</a
          >
          |
          <a href="http://www.nih.gov" target="_blank"
            >National Institutes of Health</a
          >
          |
          <a href="http://www.cancer.gov" target="_blank"
            >National Cancer Institute</a
          >
          | <a href="http://www.usa.gov" target="_blank">USA.gov</a>
        </div>
        <div>NIH... Turning Discovery Into Health ®</div>

        <div class="version-caption">GDC Docs Version 2.0</div>
      </div>
    </footer>

    <script>
      /* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */

      // Close the dropdown if the user clicks outside of it

      var toggler = document.getElementById("myToggle");
      toggler.onclick = function () {
        var myDropdown = document.getElementById("myDropdown");
        myDropdown.classList.toggle("show");
      };
      window.onclick = function (e) {
        if (!e.target.matches(".dropbtn")) {
          var myDropdown = document.getElementById("myDropdown");
          if (myDropdown.classList.contains("show")) {
            myDropdown.classList.remove("show");
          }
        }
      };
    </script>

    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>